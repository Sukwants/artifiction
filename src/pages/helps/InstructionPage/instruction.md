# 计算器

## 全局配置

全局配置系统（global config）被设计用于将同一个页面上所有绑定全局键名（`key`）相同的 `config` 模块联动起来，从而实现一处修改，全局生效的效果。

所有被绑定的 `config` 模块均拥有独立的真实值与作用值，其中读取与保存配置使用真实值，界面显示与计算使用作用值。对于绑定在同一个键上的 `config` 模块，其作用值与优先级（`priority`）最高的模块中的一个的真实值保持一致，对绑定在同一个键上的 `config` 模块中任意一个进行修改操作时，仅更新优先级最高的全部模块的真实值，表现所有模块的作用值同步更新。

任意绑定了全局键名的 `config` 模块右上角应存在一个意为“已绑定”的图标，蓝色为绑定状态，灰色为未绑定状态，点击图标可切换绑定状态。（实际实现中，该按钮绑定值 `unlinked`，该值同样以 `unlinked` 键在配置中存储）若当前模块处于绑定状态，则会参与上述联动，否则视为该模块未绑定全局键名。

绑定了全局键名的 `config` 模块在页面上的出现与消失、绑定状态的切换均会触发全局配置系统的重新计算与更新。

鼠标指针悬停在绑定图标上 $1 \mathrm{s}$ 后会出现一个提示框，显示当前模块的绑定全局键名（`key`）与优先级（`priority`）。